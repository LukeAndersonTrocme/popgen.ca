import{j as ge}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.BB0SbgvW.js";import{r as xn}from"./index.DjljD8Qc.js";/* empty css                       */import"./index.BKWGwx0l.js";const Ot="carousel",et="controller",Cn="navigation",_n="no-scroll",tt="portal",wn="root",kt="toolbar",gt="fullscreen",je="thumbnails",Ue="loading",Fe="error",He="complete",Pn="placeholder",Ln=e=>`active-slide-${e}`,Ee="flex_center",Nn="no_scroll",Dt="no_scroll_padding",nt="slide",Tn="slide_wrapper",Z="prev",ee="next",Ge="swipe",fe="close",At="onPointerDown",Wt="onPointerMove",$t="onPointerUp",Vt="onPointerLeave",Ut="onPointerCancel",Ft="onKeyDown",yn="onKeyUp",Ht="onWheel",Sn="Escape",Rn="ArrowLeft",In="ArrowRight",Mn="button",Se="icon",zt="contain",Et="cover",On="Unknown action type",Bt="yarl__";function K(...e){return[...e].filter(Boolean).join(" ")}function E(e){return`${Bt}${e}`}function M(e){return`--${Bt}${e}`}function ce(e,t){return`${e}${t?`_${t}`:""}`}function ae(e){return t=>ce(e,t)}function kn(e,t){var o;return(o=e?.[t])!==null&&o!==void 0?o:t}function ot(...e){return()=>{e.forEach(t=>{t()})}}function te(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function Xt(){return typeof window<"u"}function Dn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function rt(e){return e.type===void 0||e.type==="image"}function An(e,t){return e.imageFit===Et||e.imageFit!==zt&&t===Et}function Ie(e){return typeof e=="string"?Number.parseInt(e,10):e}function Re(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ie(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Wn(e,t){const o=Re(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Kt(e,t){return t>0?(e%t+t)%t:0}function it(e){return e.length>0}function st(e,t){return e[Kt(t,e.length)]}function qe(e,t){return it(e)?st(e,t):void 0}function Yt(e){return rt(e)?e.src:void 0}function $n(e,t,o){if(!o)return e;const{buttons:r,...i}=e,s=r.findIndex(c=>c===t),l=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(s>=0){const c=[...r];return c.splice(s,1,l),{buttons:c,...i}}return{buttons:[l,...r],...i}}function jt(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const Vn=Number(n.version.split(".")[0])>=19;function Un(e){return{inert:Vn?e:e?"":void 0}}function Fn(e){e.scrollTop}const Qe={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[fe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:zt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function U(e,t){return{module:e,children:t}}function Gt(e,t,o){return e.module.name===t?o(e):e.children?[U(e.module,e.children.flatMap(r=>{var i;return(i=Gt(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function de(e,t,o){return e.flatMap(r=>{var i;return(i=Gt(r,t,o))!==null&&i!==void 0?i:[]})}function Hn(e,t=[],o=[]){let r=e;const i=g=>{const p=[...r];for(;p.length>0;){const f=p.pop();if(f?.module.name===g)return!0;f?.children&&p.push(...f.children)}return!1},s=(g,p)=>{if(g===""){r=[U(p,r)];return}r=de(r,g,f=>[U(p,[f])])},l=(g,p)=>{r=de(r,g,f=>[U(f.module,[U(p,f.children)])])},c=(g,p,f)=>{r=de(r,g,N=>{var _;return[U(N.module,[...f?[U(p)]:[],...(_=N.children)!==null&&_!==void 0?_:[],...f?[]:[U(p)]])]})},u=(g,p,f)=>{r=de(r,g,N=>[...f?[U(p)]:[],N,...f?[]:[U(p)]])},a=g=>{l(et,g)},m=(g,p)=>{r=de(r,g,f=>[U(p,f.children)])},v=g=>{r=de(r,g,p=>p.children)},x=g=>{o.push(g)};return t.forEach(g=>{g({contains:i,addParent:s,append:l,addChild:c,addSibling:u,addModule:a,replace:m,remove:v,augment:x})}),{config:r,augmentation:g=>o.reduce((p,f)=>f(p),g)}}const qt=n.createContext(null),Me=te("useDocument","DocumentContext",qt);function zn({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=s=>{var l;return((l=s||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var l;return((l=r(s))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return n.createElement(qt.Provider,{value:o},t)}const Qt=n.createContext(null),be=te("useEvents","EventsContext",Qt);function Bn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(l,c)=>{var u;(u=t[l])===null||u===void 0||u.splice(0,t[l].length,...t[l].filter(a=>a!==c))};return{publish:(...[l,c])=>{var u;(u=t[l])===null||u===void 0||u.forEach(a=>a(c))},subscribe:(l,c)=>(t[l]||(t[l]=[]),t[l].push(c),()=>r(l,c)),unsubscribe:r}},[t]);return n.createElement(Qt.Provider,{value:o},e)}const Jt=n.createContext(null),J=te("useLightboxProps","LightboxPropsContext",Jt);function Zt({children:e,...t}){return n.createElement(Jt.Provider,{value:t},e)}const en=n.createContext(null),xe=te("useLightboxState","LightboxStateContext",en),tn=n.createContext(null),Xn=te("useLightboxDispatch","LightboxDispatchContext",tn);function Kn(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=t?.increment||0,i=e.globalIndex+r,s=Kt(i,o.length),l=qe(o,s),c=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:i,currentSlide:l,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:qe(t.slides,t.index)}:e;default:throw new Error(On)}}function Yn({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Kn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:qe(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(tn.Provider,{value:i},n.createElement(en.Provider,{value:s},o))}const nn=n.createContext(null),Oe=te("useTimeouts","TimeoutsContext",nn);function jn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=l=>{t.splice(0,t.length,...t.filter(c=>c!==l))};return{setTimeout:(l,c)=>{const u=window.setTimeout(()=>{r(u),l()},c);return t.push(u),u},clearTimeout:l=>{l!==void 0&&(r(l),window.clearTimeout(l))}}},[t]);return n.createElement(nn.Provider,{value:o},e)}const lt=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:s,style:l,...c},u){const{styles:a,labels:m}=J(),v=kn(m,t);return n.createElement("button",{ref:u,type:"button",title:v,"aria-label":v,className:K(E(Mn),o),onClick:s,style:{...l,...a.button},...c},i?i():n.createElement(r,{className:E(Se),style:a.icon}))});function on(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function oe(e,t){return on(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Gn(e,t){return on(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const qn=oe("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Qn=oe("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Jn=oe("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Zn=oe("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),eo=oe("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Ce=Xt()?n.useLayoutEffect:n.useEffect;function rn(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const s=l=>t(l.matches);return(r=i?.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var l;return(l=i?.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",s)}},[]),e}function to(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const l=s[1].split(",").map(Ie);l.length===6?(t=l[4],o=l[5]):l.length===16&&(t=l[12],o=l[13],r=l[14])}return{x:t,y:o,z:r}}function Je(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),i=rn();return Ce(()=>{var s,l,c;if(e.current&&o.current!==void 0&&!i){const{keyframes:u,duration:a,easing:m,onfinish:v}=t(o.current,e.current.getBoundingClientRect(),to(e.current))||{};if(u&&a){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(c=(l=e.current).animate)===null||c===void 0?void 0:c.call(l,u,{duration:a,easing:m})}catch(x){console.error(x)}r.current&&(r.current.onfinish=()=>{r.current=void 0,v?.()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function sn(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(s){const c=window.getComputedStyle(s),u=a=>parseFloat(a)||0;r({width:Math.round(s.clientWidth-u(c.paddingLeft)-u(c.paddingRight)),height:Math.round(s.clientHeight-u(c.paddingTop)-u(c.paddingBottom))})}else r(void 0)};l(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(s))},[]),containerRef:e,containerRect:o}}function Te(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=Oe();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function W(e){const t=n.useRef(e);return Ce(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function bt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ze(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{bt(e,o),bt(t,o)},[e,t])}function no(e,t=!1){const o=n.useRef(!1);Ce(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function ke(){const[e,t]=n.useState(!1);return Ce(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function ln(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var l;(l=e[i])===null||l===void 0||l.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(At,i),onPointerMove:i=>t(Wt,i),onPointerUp:i=>t($t,i),onPointerLeave:i=>t(Vt,i),onPointerCancel:i=>t(Ut,i),onKeyDown:i=>t(Ft,i),onKeyUp:i=>t(yn,i),onWheel:i=>t(Ht,i)}),[t]),r=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const l=e[i];l&&l.splice(0,l.length,...l.filter(c=>c!==s))}),[e]);return{registerSensors:o,subscribeSensors:r}}function xt(e,t){const o=n.useRef(0),r=Te(),i=W((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-o.current))},[t,i,r])}const ze=ae("slide"),Be=ae("slide_image");function ye({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:s,onClick:l,onLoad:c,onError:u,style:a}){var m,v,x,g,p,f,N;const[_,y]=n.useState(Ue),{publish:O}=be(),{setTimeout:H}=Oe(),w=n.useRef(null);n.useEffect(()=>{t===0&&O(Ln(_))},[t,_,O]);const I=W(L=>{("decode"in L?L.decode():Promise.resolve()).catch(()=>{}).then(()=>{L.parentNode&&(y(He),H(()=>{c?.(L)},0))})}),S=n.useCallback(L=>{w.current=L,L?.complete&&I(L)},[I]),b=n.useCallback(L=>{I(L.currentTarget)},[I]),T=W(()=>{y(Fe),u?.()}),D=An(e,i),V=(L,Q)=>Number.isFinite(L)?L:Q,$=V(Math.max(...((v=(m=e.srcSet)===null||m===void 0?void 0:m.map(L=>L.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((x=w.current)===null||x===void 0?void 0:x.naturalWidth)||0),C=V(Math.max(...((p=(g=e.srcSet)===null||g===void 0?void 0:g.map(L=>L.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((f=w.current)===null||f===void 0?void 0:f.naturalHeight)||0),A=$&&C?{maxWidth:`min(${$}px, 100%)`,maxHeight:`min(${C}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},h=(N=e.srcSet)===null||N===void 0?void 0:N.sort((L,Q)=>L.width-Q.width).map(L=>`${L.src} ${L.width}w`).join(", "),P=()=>r&&!D&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,R=h&&r&&Xt()?`${Math.round(Math.min(P(),r.width))}px`:void 0,{style:X,className:re,...me}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:S,onLoad:b,onError:T,onClick:l,draggable:!1,className:K(E(Be()),D&&E(Be("cover")),_!==He&&E(Be("loading")),re),style:{...A,...a,...X},...me,alt:e.alt,sizes:R,srcSet:h,src:e.src}),_!==He&&n.createElement("div",{className:E(ze(Pn))},_===Ue&&(o?.iconLoading?o.iconLoading():n.createElement(Zn,{className:K(E(Se),E(ze(Ue)))})),_===Fe&&(o?.iconError?o.iconError():n.createElement(eo,{className:K(E(Se),E(ze(Fe)))}))))}const oo=n.forwardRef(function({className:t,children:o,...r},i){const s=n.useRef(null);return n.createElement(zn,{nodeRef:s},n.createElement("div",{ref:Ze(i,s),className:K(E("root"),t),...r},o))});var z;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(z||(z={}));function ro(e,t,o,r,i){n.useEffect(()=>ot(e(At,t),e(Wt,o),e($t,r),e(Vt,r),e(Ut,r)),[e,t,o,r,i])}var j;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(j||(j={}));const Xe=30;function io({disableSwipeNavigation:e,closeOnBackdropClick:t},o,r,i,s,l,c,u,a,m,v,x,g,p,f,N){const _=n.useRef(0),y=n.useRef([]),O=n.useRef(void 0),H=n.useRef(0),w=n.useRef(j.NONE),I=n.useCallback(C=>{O.current===C.pointerId&&(O.current=void 0,w.current=j.NONE);const A=y.current;A.splice(0,A.length,...A.filter(h=>h.pointerId!==C.pointerId))},[]),S=n.useCallback(C=>{I(C),C.persist(),y.current.push(C)},[I]),b=n.useCallback(C=>y.current.find(({pointerId:A})=>C.pointerId===A),[]),T=W(C=>{S(C)}),D=(C,A)=>v&&C>A||m&&C<-A,V=W(C=>{const A=b(C);if(A)if(O.current===C.pointerId){const h=Date.now()-H.current,P=_.current;w.current===j.SWIPE?Math.abs(P)>.3*i||Math.abs(P)>5&&h<s?u(P,h):a(P):w.current===j.PULL&&(D(P,2*Xe)?p(P,h):f(P)),_.current=0,w.current=j.NONE}else{const{target:h}=C;t&&h instanceof HTMLElement&&h===A.target&&(h.classList.contains(E(nt))||h.classList.contains(E(Tn)))&&N()}I(C)}),$=W(C=>{const A=b(C);if(A){const h=O.current===C.pointerId;if(C.buttons===0){h&&_.current!==0?V(C):I(A);return}const P=C.clientX-A.clientX,R=C.clientY-A.clientY;if(O.current===void 0){const X=re=>{S(C),O.current=C.pointerId,H.current=Date.now(),w.current=re};Math.abs(P)>Math.abs(R)&&Math.abs(P)>Xe&&r(P)?e||(X(j.SWIPE),l()):Math.abs(R)>Math.abs(P)&&D(R,Xe)&&(X(j.PULL),x())}else h&&(w.current===j.SWIPE?(_.current=P,c(P)):w.current===j.PULL&&(_.current=R,g(R)))}});ro(o,T,$,V)}function so({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=W(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=o.current)===null||s===void 0||s.removeEventListener("wheel",r),o.current=i},[r])}function lo(e,t,o,r,i,s,l,c,u){const a=n.useRef(0),m=n.useRef(0),v=n.useRef(void 0),x=n.useRef(void 0),g=n.useRef(0),p=n.useRef(void 0),f=n.useRef(0),{setTimeout:N,clearTimeout:_}=Oe(),y=n.useCallback(()=>{v.current&&(_(v.current),v.current=void 0)},[_]),O=n.useCallback(()=>{x.current&&(_(x.current),x.current=void 0)},[_]),H=W(()=>{e!==z.SWIPE&&(a.current=0,f.current=0,y(),O())});n.useEffect(H,[e,H]);const w=W(S=>{x.current=void 0,a.current===S&&u(a.current)}),I=W(S=>{if(S.ctrlKey||Math.abs(S.deltaY)>Math.abs(S.deltaX))return;const b=T=>{g.current=T,_(p.current),p.current=T>0?N(()=>{g.current=0,p.current=void 0},300):void 0};if(e===z.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(g.current)){b(S.deltaX);return}if(!o(-S.deltaX))return;if(m.current+=S.deltaX,y(),Math.abs(m.current)>30)m.current=0,b(0),f.current=Date.now(),s();else{const T=m.current;v.current=N(()=>{v.current=void 0,T===m.current&&(m.current=0)},i)}}else if(e===z.SWIPE){let T=a.current-S.deltaX;if(T=Math.min(Math.abs(T),r)*Math.sign(T),a.current=T,l(T),O(),Math.abs(T)>.2*r){b(S.deltaX),c(T,Date.now()-f.current);return}x.current=N(()=>w(T),2*i)}else b(S.deltaX)});n.useEffect(()=>t(Ht,I),[t,I])}const Ct=ae("container"),cn=n.createContext(null),_e=te("useController","ControllerContext",cn);function co({children:e,...t}){var o;const{carousel:r,animation:i,controller:s,on:l,styles:c,render:u}=t,{closeOnPullUp:a,closeOnPullDown:m,preventDefaultWheelX:v,preventDefaultWheelY:x}=s,[g,p]=n.useState(),f=xe(),N=Xn(),[_,y]=n.useState(z.NONE),O=n.useRef(0),H=n.useRef(0),w=n.useRef(1),{registerSensors:I,subscribeSensors:S}=ln(),{subscribe:b,publish:T}=be(),D=Te(),V=Te(),$=Te(),{containerRef:C,setContainerRef:A,containerRect:h}=sn(),P=Ze(so({preventDefaultWheelX:v,preventDefaultWheelY:x}),A),R=n.useRef(null),X=Ze(R,void 0),{getOwnerDocument:re}=Me(),me=ke(),L=d=>(me?-1:1)*(typeof d=="number"?d:1),Q=W(()=>{var d;return(d=C.current)===null||d===void 0?void 0:d.focus()}),at=W(()=>t),ut=W(()=>f),we=n.useCallback(d=>T(Z,d),[T]),Pe=n.useCallback(d=>T(ee,d),[T]),ue=n.useCallback(()=>T(fe),[T]),De=d=>!(r.finite&&(L(d)>0&&f.currentIndex===0||L(d)<0&&f.currentIndex===f.slides.length-1)),dt=d=>{var k;O.current=d,(k=C.current)===null||k===void 0||k.style.setProperty(M("swipe_offset"),`${Math.round(d)}px`)},Ae=d=>{var k,B;H.current=d,w.current=(()=>{const pe=m&&d>0?d:a&&d<0?-d:0;return Math.min(Math.max(Dn(1-pe/60*(1-.5),2),.5),1)})(),(k=C.current)===null||k===void 0||k.style.setProperty(M("pull_offset"),`${Math.round(d)}px`),(B=C.current)===null||B===void 0||B.style.setProperty(M("pull_opacity"),`${w.current}`)},{prepareAnimation:pn}=Je(R,(d,k,B)=>{if(R.current&&h)return{keyframes:[{transform:`translate(0, ${d.rect.y-k.y+B.y}px)`,opacity:d.opacity},{transform:"translate(0, 0)",opacity:1}],duration:d.duration,easing:i.easing.fade}}),ft=(d,k)=>{if(a||m){Ae(d);let B=0;R.current&&(B=i.fade*(k?2:1),pn({rect:R.current.getBoundingClientRect(),opacity:w.current,duration:B})),$(()=>{Ae(0),y(z.NONE)},B),y(z.ANIMATION),k||ue()}},{prepareAnimation:vn,isAnimationPlaying:gn}=Je(R,(d,k,B)=>{var G;if(R.current&&h&&(!((G=f.animation)===null||G===void 0)&&G.duration)){const Y=Re(r.spacing),pe=(Y.percent?Y.percent*h.width/100:Y.pixel)||0;return{keyframes:[{transform:`translate(${L(f.globalIndex-d.index)*(h.width+pe)+d.rect.x-k.x+B.x}px, 0)`},{transform:"translate(0, 0)"}],duration:f.animation.duration,easing:f.animation.easing}}}),he=W(d=>{var k,B;const G=d.offset||0,Y=G?i.swipe:(k=i.navigation)!==null&&k!==void 0?k:i.swipe,pe=!G&&!gn()?i.easing.navigation:i.easing.swipe;let{direction:Le}=d;const Ne=(B=d.count)!==null&&B!==void 0?B:1;let We=z.ANIMATION,q=Y*Ne;if(!Le){const ve=h?.width,vt=d.duration||0,Ve=ve?Y/ve*Math.abs(G):Y;Ne!==0?(vt<Ve?q=q/Ve*Math.max(vt,Ve/5):ve&&(q=Y/ve*(ve-Math.abs(G))),Le=L(G)>0?Z:ee):q=Y/2}let $e=0;Le===Z?De(L(1))?$e=-Ne:(We=z.NONE,q=Y):Le===ee&&(De(L(-1))?$e=Ne:(We=z.NONE,q=Y)),q=Math.round(q),V(()=>{dt(0),y(z.NONE)},q),R.current&&vn({rect:R.current.getBoundingClientRect(),index:f.globalIndex}),y(We),T(Ge,{type:"swipe",increment:$e,duration:q,easing:pe})});n.useEffect(()=>{var d,k;!((d=f.animation)===null||d===void 0)&&d.increment&&(!((k=f.animation)===null||k===void 0)&&k.duration)&&D(()=>N({type:"swipe",increment:0}),f.animation.duration)},[f.animation,N,D]);const mt=[S,De,h?.width||0,i.swipe,()=>y(z.SWIPE),d=>dt(d),(d,k)=>he({offset:d,duration:k,count:1}),d=>he({offset:d,count:0})],En=[()=>{m&&y(z.PULL)},d=>Ae(d),d=>ft(d),d=>ft(d,!0)];io(s,...mt,a,m,...En,ue),lo(_,...mt);const ht=W(()=>{s.focus&&re().querySelector(`.${E(tt)} .${E(Ct())}`)&&Q()});n.useEffect(ht,[ht]);const pt=W(()=>{var d;(d=l.view)===null||d===void 0||d.call(l,{index:f.currentIndex})});n.useEffect(pt,[f.globalIndex,pt]),n.useEffect(()=>ot(b(Z,d=>he({direction:Z,...d})),b(ee,d=>he({direction:ee,...d})),b(Ge,d=>N(d))),[b,he,N]);const bn=n.useMemo(()=>({prev:we,next:Pe,close:ue,focus:Q,slideRect:h?Wn(h,r.padding):{width:0,height:0},containerRect:h||{width:0,height:0},subscribeSensors:S,containerRef:C,setCarouselRef:X,toolbarWidth:g,setToolbarWidth:p}),[we,Pe,ue,Q,S,h,C,X,g,p,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:we,next:Pe,close:ue,focus:Q,getLightboxProps:at,getLightboxState:ut}),[we,Pe,ue,Q,at,ut]),n.createElement("div",{ref:P,className:K(E(Ct()),E(Ee)),style:{..._===z.SWIPE?{[M("swipe_offset")]:`${Math.round(O.current)}px`}:null,..._===z.PULL?{[M("pull_offset")]:`${Math.round(H.current)}px`,[M("pull_opacity")]:`${w.current}`}:null,...s.touchAction!=="none"?{[M("controller_touch_action")]:s.touchAction}:null,...c.container},...s.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...I},h&&n.createElement(cn.Provider,{value:bn},e,(o=u.controls)===null||o===void 0?void 0:o.call(u)))}const ao=ne(et,co);function ie(e){return ce(Ot,e)}function _t(e){return ce(nt,e)}function uo({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=xe(),{slideRect:i,focus:s}=_e(),{render:l,carousel:{imageFit:c,imageProps:u},on:{click:a},styles:{slide:m}}=J(),{getOwnerDocument:v}=Me(),x=t!==0;n.useEffect(()=>{var p;x&&(!((p=o.current)===null||p===void 0)&&p.contains(v().activeElement))&&s()},[x,s,v]);const g=()=>{var p,f,N,_;let y=(p=l.slide)===null||p===void 0?void 0:p.call(l,{slide:e,offset:t,rect:i});return!y&&rt(e)&&(y=n.createElement(ye,{slide:e,offset:t,render:l,rect:i,imageFit:c,imageProps:u,onClick:x?void 0:()=>a?.({index:r})})),y?n.createElement(n.Fragment,null,(f=l.slideHeader)===null||f===void 0?void 0:f.call(l,{slide:e}),((N=l.slideContainer)!==null&&N!==void 0?N:({children:O})=>O)({slide:e,children:y}),(_=l.slideFooter)===null||_===void 0?void 0:_.call(l,{slide:e})):null};return n.createElement("div",{ref:o,className:K(E(_t()),!x&&E(_t("current")),E(Ee)),...Un(x),style:m,role:"region","aria-roledescription":"slide"},g())}function fo(){const e=J().styles.slide;return n.createElement("div",{className:E(nt),style:e})}function mo({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=xe(),{setCarouselRef:i}=_e(),s=Re(e.spacing),l=Re(e.padding),c=jt(e,t,1),u=[];if(it(t))for(let a=o-c;a<=o+c;a+=1){const m=st(t,a),v=r-o+a,x=e.finite&&(a<0||a>t.length-1);u.push(x?{key:v}:{key:[`${v}`,Yt(m)].filter(Boolean).join("|"),offset:a-o,slide:m})}return n.createElement("div",{ref:i,className:K(E(ie()),u.length>0&&E(ie("with_slides"))),style:{[`${M(ie("slides_count"))}`]:u.length,[`${M(ie("spacing_px"))}`]:s.pixel||0,[`${M(ie("spacing_percent"))}`]:s.percent||0,[`${M(ie("padding_px"))}`]:l.pixel||0,[`${M(ie("padding_percent"))}`]:l.percent||0}},u.map(({key:a,slide:m,offset:v})=>m?n.createElement(uo,{key:a,slide:m,offset:v}):n.createElement(fo,{key:a})))}const ho=ne(Ot,mo);function an(){const{carousel:e}=J(),{slides:t,currentIndex:o}=xe(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function un(e){var t;const o=ke(),{publish:r}=be(),{animation:i}=J(),{prevDisabled:s,nextDisabled:l}=an(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,u=xt(()=>r(Z),c),a=xt(()=>r(ee),c),m=W(v=>{switch(v.key){case Sn:r(fe);break;case Rn:(o?l:s)||(o?a:u)();break;case In:(o?s:l)||(o?u:a)();break}});n.useEffect(()=>e(Ft,m),[e,m])}function wt({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:s,style:l}){return n.createElement(lt,{label:e,icon:t,renderIcon:o,className:E(`navigation_${r}`),disabled:s,onClick:i,style:l,...no(_e().focus,s)})}function po({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:s,next:l,subscribeSensors:c}=_e(),{prevDisabled:u,nextDisabled:a}=an();return un(c),n.createElement(n.Fragment,null,e?e():n.createElement(wt,{label:"Previous",action:Z,icon:Qn,renderIcon:o,style:i.navigationPrev,disabled:u,onClick:s}),t?t():n.createElement(wt,{label:"Next",action:ee,icon:Jn,renderIcon:r,style:i.navigationNext,disabled:a,onClick:l}))}const vo=ne(Cn,po),Pt=E(Nn),go=E(Dt);function Eo(e){return"style"in e}function Lt(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ie(s)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function bo({noScroll:{disabled:e},children:t}){const o=ke(),{getOwnerDocument:r,getOwnerWindow:i}=Me();return n.useEffect(()=>{if(e)return()=>{};const s=[],l=i(),{body:c,documentElement:u}=r(),a=Math.round(l.innerWidth-u.clientWidth);if(a>0){s.push(Lt(c,a,o));const m=c.getElementsByTagName("*");for(let v=0;v<m.length;v+=1){const x=m[v];Eo(x)&&l.getComputedStyle(x).getPropertyValue("position")==="fixed"&&!x.classList.contains(go)&&s.push(Lt(x,a,o))}}return c.classList.add(Pt),()=>{c.classList.remove(Pt),s.forEach(m=>m())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const xo=ne(_n,bo);function Nt(e){return ce(tt,e)}function Tt(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Co({children:e,animation:t,styles:o,className:r,on:i,portal:s,close:l}){const[c,u]=n.useState(!1),[a,m]=n.useState(!1),v=n.useRef([]),x=n.useRef(null),{setTimeout:g}=Oe(),{subscribe:p}=be(),N=rn()?0:t.fade;n.useEffect(()=>(u(!0),()=>{u(!1),m(!1)}),[]);const _=W(()=>{v.current.forEach(w=>w()),v.current=[]}),y=W(()=>{var w;m(!1),_(),(w=i.exiting)===null||w===void 0||w.call(i),g(()=>{var I;(I=i.exited)===null||I===void 0||I.call(i),l()},N)});n.useEffect(()=>p(fe,y),[p,y]);const O=W(w=>{var I,S,b;Fn(w),m(!0),(I=i.entering)===null||I===void 0||I.call(i);const T=(b=(S=w.parentNode)===null||S===void 0?void 0:S.children)!==null&&b!==void 0?b:[];for(let D=0;D<T.length;D+=1){const V=T[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(V.tagName)===-1&&V!==w&&(v.current.push(Tt(V,"inert","")),v.current.push(Tt(V,"aria-hidden","true")))}v.current.push(()=>{var D,V;(V=(D=x.current)===null||D===void 0?void 0:D.focus)===null||V===void 0||V.call(D)}),g(()=>{var D;(D=i.entered)===null||D===void 0||D.call(i)},N)}),H=n.useCallback(w=>{w?O(w):_()},[O,_]);return c?xn.createPortal(n.createElement(oo,{ref:H,className:K(r,E(Nt()),E(Dt),a&&E(Nt("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...t.fade!==Qe.animation.fade?{[M("fade_animation_duration")]:`${N}ms`}:null,...t.easing.fade!==Qe.animation.easing.fade?{[M("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:w=>{x.current||(x.current=w.relatedTarget)}},e),s.root||document.body):null}const _o=ne(tt,Co);function wo({children:e}){return n.createElement(n.Fragment,null,e)}const Po=ne(wn,wo);function Lo(e){return ce(kt,e)}function No({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:s}=_e(),{setContainerRef:l,containerRect:c}=sn();Ce(()=>{s(c?.width)},[s,c?.width]);const u=()=>t?t():n.createElement(lt,{key:fe,label:"Close",icon:qn,renderIcon:o,onClick:i});return n.createElement("div",{ref:l,style:r.toolbar,className:E(Lo())},e?.map(a=>a===fe?u():a))}const To=ne(kt,No);function dn(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>dn(r,t)))}function yo(e,t={}){const{easing:o,...r}=e,{easing:i,...s}=t;return{easing:{...o,...i},...r,...s}}function So({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:s,on:l,plugins:c,slides:u,index:a,...m}){const{animation:v,carousel:x,render:g,toolbar:p,controller:f,noScroll:N,on:_,slides:y,index:O,plugins:H,...w}=Qe,{config:I,augmentation:S}=Hn([U(_o,[U(xo,[U(ao,[U(ho),U(To),U(vo)])])])],c||H),b=S({animation:yo(v,t),carousel:{...x,...e},render:{...g,...o},toolbar:{...p,...r},controller:{...f,...i},noScroll:{...N,...s},on:{..._,...l},...w,...m});return b.open?n.createElement(Zt,{...b},n.createElement(Yn,{slides:u||y,index:Ie(a||O)},n.createElement(jn,null,n.createElement(Bn,null,dn(U(Po,I),b))))):null}const se={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},ct=e=>({...se,...e});function fn(){const{thumbnails:e}=J();return ct(e)}const le=e=>ce(je,e),F=e=>le(ce("thumbnail",e)),Ro=oe("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Io=oe("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Mo({slide:e,render:t,rect:o,imageFit:r}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:o,imageFit:r});if(s)return s;const l={render:t,rect:o,imageFit:r};if(e.thumbnail)return n.createElement(ye,{slide:{src:e.thumbnail},...l});if(rt(e))return n.createElement(ye,{slide:e,...l});const c=E(F(Se));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(ye,{slide:{src:e.poster},...l}),n.createElement(Ro,{className:c})):n.createElement(Io,{className:c})}const Oo=ae("active"),Ke=ae("fadein"),Ye=ae("fadeout"),ko=ae("placeholder"),yt="delay",St="duration";function Do({slide:e,onClick:t,active:o,fadeIn:r,fadeOut:i,placeholder:s,onLoseFocus:l}){const c=n.useRef(null),{render:u,styles:a}=J(),{getOwnerDocument:m}=Me(),{width:v,height:x,imageFit:g}=fn(),p={width:v,height:x},f=W(l);return n.useEffect(()=>{i&&m().activeElement===c.current&&f()},[i,f,m]),n.createElement("button",{ref:c,type:"button",className:K(E(Ee),E(F()),o&&E(F(Oo())),r&&E(F(Ke())),i&&E(F(Ye())),s&&E(F(ko()))),style:{...r?{[M(F(Ke(St)))]:`${r.duration}ms`,[M(F(Ke(yt)))]:`${r.delay}ms`}:null,...i?{[M(F(Ye(St)))]:`${i.duration}ms`,[M(F(Ye(yt)))]:`${i.delay}ms`}:null,...a.thumbnail},onClick:t},e&&Mo({slide:e,render:u,rect:p,imageFit:g}))}function Rt(e){return["top","bottom"].includes(e)}function It(e,t){return t+2*(e.border+e.padding)+e.gap}function Ao(e){const{thumbnail:t,poster:o}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof o=="string"&&o||e&&Yt(e)||void 0}function Mt({visible:e,containerRef:t}){const o=n.useRef(null),r=ke(),{publish:i,subscribe:s}=be(),{carousel:l,styles:c}=J(),{slides:u,globalIndex:a,animation:m}=xe(),{registerSensors:v,subscribeSensors:x}=ln();un(x);const g=fn(),{position:p,width:f,height:N,border:_,borderStyle:y,borderColor:O,borderRadius:H,padding:w,gap:I,vignette:S}=g,b=m?.duration!==void 0&&m?.increment||0,T=m?.duration||0,{prepareAnimation:D}=Je(o,h=>({keyframes:Rt(p)?[{transform:`translateX(${(r?-1:1)*It(g,f)*b+h}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${It(g,N)*b+h}px)`},{transform:"translateY(0)"}],duration:T,easing:m?.easing})),V=W(()=>{let h=0;if(t.current&&o.current){const P=t.current.getBoundingClientRect(),R=o.current.getBoundingClientRect();h=Rt(p)?R.left-P.left-(P.width-R.width)/2:R.top-P.top-(P.height-R.height)/2}D(h)});n.useEffect(()=>ot(s(Ge,V)),[s,V]);const $=jt(l,u),C=[];if(it(u))for(let h=a-$-Math.abs(b);h<=a+$+Math.abs(b);h+=1){const R=l.finite&&(h<0||h>u.length-1)||b<0&&h<a-$||b>0&&h>a+$?null:st(u,h),X=[`${h}`,Ao(R)].filter(Boolean).join("|");C.push({key:X,index:h,slide:R})}const A=h=>()=>{h>a?i(ee,{count:h-a}):h<a&&i(Z,{count:a-h})};return n.createElement("div",{className:K(E(le("container")),E(Ee)),style:{...e?null:{display:"none"},...f!==se.width?{[M(F("width"))]:`${f}px`}:null,...N!==se.height?{[M(F("height"))]:`${N}px`}:null,..._!==se.border?{[M(F("border"))]:`${_}px`}:null,...y?{[M(F("border_style"))]:y}:null,...O?{[M(F("border_color"))]:O}:null,...H!==se.borderRadius?{[M(F("border_radius"))]:`${H}px`}:null,...w!==se.padding?{[M(F("padding"))]:`${w}px`}:null,...I!==se.gap?{[M(F("gap"))]:`${I}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:o,style:c.thumbnailsTrack,className:K(E(le("track")),E(Ee)),tabIndex:-1,...v},C.map(({key:h,index:P,slide:R})=>{const X=T/Math.abs(b||1),re=b>0&&P>a+$-b&&P<=a+$||b<0&&P<a-$-b&&P>=a-$?{duration:X,delay:((b>0?P-(a+$-b):a-$-b-P)-1)*X}:void 0,me=b>0&&P<a-$||b<0&&P>a+$?{duration:X,delay:(b>0?b-(a-$-P):-b-(P-(a+$)))*X}:void 0;return n.createElement(Do,{key:h,slide:R,active:P===a,fadeIn:re,fadeOut:me,placeholder:!R,onClick:A(P),onLoseFocus:()=>{var L;return(L=o.current)===null||L===void 0?void 0:L.focus()}})})),S&&n.createElement("div",{className:E(le("vignette"))}))}const mn=n.createContext(null),Wo=te("useThumbnails","ThumbnailsContext",mn);function $o({children:e,...t}){const{ref:o,position:r,hidden:i}=ct(t.thumbnails),[s,l]=n.useState(!i),c=n.useRef(null),u=n.useMemo(()=>({visible:s,show:()=>l(!0),hide:()=>l(!1)}),[s]);return n.useImperativeHandle(o,()=>u,[u]),n.createElement(Zt,{...t},n.createElement(mn.Provider,{value:u},n.createElement("div",{ref:c,className:K(E(le()),E(le(`${r}`)))},["start","top"].includes(r)&&n.createElement(Mt,{containerRef:c,visible:s}),n.createElement("div",{className:E(le("wrapper"))},e),["end","bottom"].includes(r)&&n.createElement(Mt,{containerRef:c,visible:s}))))}const hn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Vo=oe("ThumbnailsVisible",hn()),Uo=Gn("ThumbnailsHidden",hn());function Fo(){const{visible:e,show:t,hide:o}=Wo(),{render:r}=J();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(lt,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Vo:Uo,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function Ho({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:s,toolbar:l,...c})=>{const u=ct(s);return{toolbar:$n(l,je,u.showToggle?n.createElement(Fo,null):null),thumbnails:u,...c}});const i=ne(je,$o);t(gt)?o(gt,i):r(et,i)}function jo({slides:e}){const[t,o]=n.useState(-1);return ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map((r,i)=>ge.jsx("img",{src:r.src,alt:r.alt,className:"rounded-lg shadow-lg object-cover w-full h-48 cursor-pointer",onClick:()=>o(i)},r.src))}),ge.jsx(So,{slides:e,open:t>=0,index:t,close:()=>o(-1),plugins:[Ho]})]})}export{jo as default};
